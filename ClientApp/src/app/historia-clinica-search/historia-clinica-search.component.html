<h1>Buscador de Historia Cl√≠nica</h1>
<br />
<form #f="ngForm">
  <div class="form group">
    <label for="nombre">Nombre de la Mascota</label>
    <select id="nombre" class="form-control" (change)="alSeleccionarNombre()" [(ngModel)]="mascotaId" name="nombre" required #pet="ngModel">
      <option value=""></option>
      <option *ngFor="let m of mascotas" value="{{ m.id }}">{{ m.nombre }}</option>
    </select>
    <div class="alert alert-danger" *ngIf="pet.touched && !pet.valid">Por favor seleccione un animal</div>
  </div>
  <br />
  <button class="btn btn-primary" [disabled]="!mascotaId" (click)="buscarRegistros()">Buscar</button>
  </form>
<br />
<table class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Fecha</th>
      <th>Nombre Veterinario</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let r of registros">
      <td>{{r.id}}</td>
      <td>{{r.fecha | date:'medium'}}</td>
      <td>{{r.nombreVet}}</td>
      <td>
        <a [routerLink]="['/historias/', r.id]">Visualizar</a>
      </td>
    </tr>
  </tbody>
</table>
