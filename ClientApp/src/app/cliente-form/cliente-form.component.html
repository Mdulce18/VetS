<h1 *ngIf="!cliente.id">Nuevo Cliente</h1>
<h1 *ngIf="cliente.id">Editar Cliente</h1>

<p>
  <!--{{cliente | json}}-->
</p>
<form #f="ngForm" (ngSubmit)="guardar()">
  <div class="form group">
    <label for="nombre">Nombre</label>
    <input type="text" id="nombre" [value]="cliente.contacto.nombre" class="form-control" [(ngModel)]="nombre" (change)="alSeleccionarNombre()" name="nombre" required #name="ngModel" />
    <div class="alert alert-danger" *ngIf="name.touched && !name.valid">Por favor ingrese un Nombre</div>
  </div>
  <div class="form-group">
    <label for="apellido">Apellido</label>
    <input type="text" id="apellido" [value]="cliente.contacto.apellido" class="form-control" [(ngModel)]="apellido" (change)="alSeleccionarApellido()" name="apellido" required #ape="ngModel" />
    <div class="alert alert-danger" *ngIf="ape.touched && !ape.valid">Por favor ingrese un apellido</div>
  </div>
  <div class="form-group">
    <label for="telefono">Telefono</label>
    <input type="text" id="telefono" [value]="cliente.contacto.telefono" class="form-control" [(ngModel)]="telefono" (change)="alSeleccionarTelefono()" name="Telefono" required #tel="ngModel" />
    <div class="alert alert-danger" *ngIf="tel.touched && !tel.valid">Por favor ingrese un número de Teléfono</div>
  </div>
  <div class="form-group">
    <label for="direccion">Dirección</label>
    <input type="text" id="direccion" [value]="cliente.contacto.direccion" class="form-control" [(ngModel)]="direccion" (change)="alSeleccionarDireccion()" name="direccion" />
    <!--<div class="alert alert-danger" *ngIf="direccion.touched && !direccion.valid">Por favor ingrese un apellido</div>-->
  </div>
  <div class="form-group">
    <label for="email">E-mail</label>
    <input type="text" id="email" [value]="cliente.contacto.email" class="form-control" [(ngModel)]="email" (change)="alSeleccionarEmail()" name="email" required #correo="ngModel" />
    <div class="alert alert-danger" *ngIf="correo.touched && !correo.valid">Por favor ingrese un email válido</div>
  </div>
  <div class="form-group">
    <label for="DNI">DNI</label>
    <input type="text" id="DNI" [value]="cliente.DNI" class="form-control" [(ngModel)]="DNI" (change)="alSeleccionarDNI()" name="DNI" required #dni="ngModel" />
    <div class="alert alert-danger" *ngIf="dni.touched && !dni.valid">Por favor ingrese un número de DNI válido</div>
  </div>
  <div class="form-group" *ngIf="cliente.id">
    <label for="mascota">Seleccionar Mascota</label>
    <select id="mascota" class="form-control" [(ngModel)]="mascotaId" (change)="alSelecionarMascota()" name="mascota">
      <option value=""></option>
      <ng-container *ngFor="let m of mascotas">
        <ng-container *ngIf="!m.estaAsignada">
          <option value="{{m.id}}">{{m.nombre}}</option>
        </ng-container>
      </ng-container>
    </select>
  </div>
  <button class="btn btn-primary" [disabled]="!f.valid  ">Guardar</button>
  <!-- Button trigger modal -->
  <button *ngIf="cliente.id" class="btn btn-danger" type="button" data-toggle="modal" data-target="#staticBackdrop">Borrar</button>

  <!-- Modal -->
  <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="staticBackdropLabel">Advertencia</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          Está seguro que desea borrar este registro de la base de datos ?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
          <button type="button" class="btn btn-primary" (click)="borrar()" data-dismiss="modal">Aceptar</button>
        </div>
      </div>
    </div>
  </div>
</form>

